(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{RmqX:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchModule",function(){return C});var i=n("ofXK"),s=n("3Pt+"),a=n("tyNb"),o=n("XNiG"),c=n("Kj3r"),r=n("lTCR");const b=n.n(r).a`
  query {
    lobby(slug: "casino") {
      slug
      games {
        name
        thumbnail
      }
    }
  }
`;var u=n("fXoL"),d=n("/IUn"),h=n("0+/s"),p=n("4Kj8");function g(e,t){if(1&e&&(u.Mb(0,"div"),u.Kb(1,"app-single-category",4),u.Lb()),2&e){const e=u.Wb(2);u.zb(1),u.bc("games",e.gamesSearched)}}function l(e,t){if(1&e){const e=u.Nb();u.Mb(0,"div"),u.Mb(1,"input",2),u.Tb("ngModelChange",function(t){return u.gc(e),u.Wb().setValue(t)})("keydown",function(){return u.gc(e),u.Wb().inputChanged()}),u.Lb(),u.mc(2,g,2,1,"div",3),u.Lb()}if(2&e){const e=u.Wb();u.zb(1),u.bc("ngModel",e.inputText),u.zb(1),u.bc("ngIf",e.inputText)}}function f(e,t){1&e&&(u.Mb(0,"div"),u.Kb(1,"app-spinner"),u.Lb())}const m=[{path:"",component:(()=>{class e{constructor(e){this.apollo=e,this.games=[],this.debounceTime=200,this.gamesSearched=[],this.inputText="",this.stage="loading",this.modelChanged=new o.a}ngOnInit(){this.query=this.apollo.watchQuery({query:b}),this.query.valueChanges.subscribe(e=>{e&&e.data&&e.data.lobby&&e.data.lobby.games.length>0&&(this.games=e.data.lobby.games),this.stage="show"}),this.createInputDelay()}createInputDelay(){this.subscription=this.modelChanged.pipe(Object(c.a)(this.debounceTime)).subscribe(()=>{this.search()})}search(){if(this.inputText){const e=this.inputText.toLowerCase();this.gamesSearched=this.games.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}else this.gamesSearched=[]}setValue(e){this.inputText=e}inputChanged(){this.modelChanged.next()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(d.b))},e.\u0275cmp=u.Db({type:e,selectors:[["app-search"]],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["id","text_input","type","text","placeholder","Search..",3,"ngModel","ngModelChange","keydown"],[4,"ngIf"],[3,"games"]],template:function(e,t){1&e&&(u.Mb(0,"div",0),u.mc(1,l,3,2,"div",1),u.mc(2,f,2,0,"div",1),u.Lb()),2&e&&(u.bc("ngSwitch",t.stage),u.zb(1),u.bc("ngSwitchCase","show"),u.zb(1),u.bc("ngSwitchCase","loading"))},directives:[i.j,i.k,s.a,s.c,s.d,i.i,h.a,p.a],styles:["input[type=text][_ngcontent-%COMP%]{width:130px;box-sizing:border-box;border:2px solid #ccc;border-radius:4px;font-size:16px;background-color:#fff;background-image:url(searchicon.37d6c742255819264e6f.png);background-position:10px 10px;background-repeat:no-repeat;padding:12px 20px 12px 40px;transition:width .4s ease-in-out}input[type=text][_ngcontent-%COMP%]:focus{width:100%;float:none}"]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[a.c.forChild(m)],a.c]}),e})();var y=n("PCNd"),x=n("hctd");let C=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},imports:[[i.b,w,y.a,x.a,s.b]]}),e})()}}]);